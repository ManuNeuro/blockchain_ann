# blockchain_ann

## Blockchain Project with Artificial Neural Network Mining

Welcome to this experimental blockchain project, where I've replaced the traditional and computationally expensive "Proof of Work" with the training of an Artificial Neural Network (ANN). This makes the mining process more useful and opens up the possibility of creating a **decentralized network for AI computation.**

Moreover, the private keys in our system can be generated by a quantum computer (using IBM-Q), and the public keys are generated by a maximally chaotic neural network (see [White-paper: Artificial Neural Networks and Percolation (Part 2)](https://manuneuro.github.io/EmmanuelCalvet//quantum,/crypto/2022/09/24/whitepaper-p2.html) for more information, you also can find the associated repo: [GitHub - ManuNeuro/whitepaper-p2](https://github.com/ManuNeuro/whitepaper-p2)). This approach I hope will further enhance the security and robustness of the blockchain, maybe one day allowing for **quantum secure wallets**. 

## Project Structure

The project is divided into several Python files, each serving a specific purpose:

1. `main.py`: This is the main script that brings all the components together. It includes the generation of fake wallets, transactions, and the creation of the blockchain.

2. `blockchain.py`: This script contains the `Block` and `Blockchain` classes. The `Block` class is responsible for creating new blocks and calculating their hash. The `Blockchain` class manages the blockchain, including the creation of new blocks and validating the chain.

3. `mining_ann.py`: This script is responsible for the mining process. Instead of using the traditional "Proof of Work", we use the training of an Artificial Neural Network (ANN) for mining.

4. `transaction.py`: This script manages the transactions in the blockchain. It includes the `Transaction` and `TransactionPool` classes which handle individual transactions and a pool of multiple transactions, respectively.

5. `wallet.py`: This script manages the wallets in the blockchain. It includes the `Wallet` and `WalletPool` classes which handle individual wallets and a pool of multiple wallets, respectively.

## How to Run the Project

To run the project, simply navigate to the project directory and run the `main.py` script:

```bash
python main.py
```

Most of the code use standard library like `numpy`, `time`, `hashlib`, `uuid` among others. But two important dependencies need to be installed:

- The neural network used for the mining requires `pytorch`.

- The use of a quantum computer for the source of entropy requires to install `qiskit`, and you need to create an account on [IBM Quantum Computing](https://www.ibm.com/quantum). Then get you API key and put in in a file `token.py`. Check the file `private_key_generator.py` for more details.

NB: Don't forget to add the folder to the pythonpath. 



## main.py

```
--- A new block is being mined ---
Training loss: 0.7117619523043826
Training loss: 0.3588528420164514
Training loss: 0.31404750011781896
Training loss: 0.28612422543579835
Training loss: 0.26374984347521624
Difficulty is set to 90%
Accuracy on the test set: 93 %
New block #1 is mined!
 ### Blockchain ###
Block #0
Hash: 12537925f30a3bccc99058dc6a17da40028aa529f5d3f89fe0ae9afeca59ff30
0 -> 0: 0
---------------------

Block #1
Hash: e92d8f3ebc41cdc19539b5adaab57568b9d67ee13450251261d5029aec2ab569
dac4143ada9a866d7c9f5e3d5a58d519b441298d2a546b44bc98f2ef32bd8545c9ac59982a3a9a7c728cbd3dfee9fdbaec3cd1d521be94c98c1fe060d22befec7218b8ff835a20c0c4ff5b24a61de46f4660f03ddf69fe2c5661a623d6a55af758eb2e34974c45738061b5c956cfd693ce9d6d69f9c61ea3f387c54674409dad -> 91ad9d728c0864463f780fe687b2d51e6073d80320879976eeb9ddb8be491fb438df782b93ccb7ccddb23f6229a57175e8b55a437fcd8df48bf1b48bee70bae8b93c87ae982f716e75ad40eb350b2051a7deedbc00d33f2542074d66382e9639adf5f45fd240a37166c1368caa9da94463a4d86484fc6a6b8af8ef86abdb38d: 3
---------------------
91ad9d728c0864463f780fe687b2d51e6073d80320879976eeb9ddb8be491fb438df782b93ccb7ccddb23f6229a57175e8b55a437fcd8df48bf1b48bee70bae8b93c87ae982f716e75ad40eb350b2051a7deedbc00d33f2542074d66382e9639adf5f45fd240a37166c1368caa9da94463a4d86484fc6a6b8af8ef86abdb38d -> 737fb6131ea1bb4769c4dd92f9825eef02a503661732185fdec304b55714b2e1657b6ee4dd4f5cf285fc0c2c4e716d51fa24c7de5068e0b509fc5a70c3545e01ff4d20a5c3e5641d4272f253dbaa3505af7645af401e7472448b6fee6c0362adf181a2e67a8d524cbc29ee3064d07246ddd52d05c73ec54dcffff2c84e7d9431: 2
---------------------
b2ad4335d60d80a865c6fbc22c3c185e6a860adb60de4884a2ec4cdf100a6a789dbb7c00e61e8f22d008366aecb222aec53c8af06dad4d968d0367f895e75f94a39104fa315631cfdcd6fdf3ba35aae68041bb48dbebb76a9a0a33cab91506b4ea9082bbfd1fc2c04bea2f746a6b9c60f4e133ae560695e9609aeff4291b2323 -> 737fb6131ea1bb4769c4dd92f9825eef02a503661732185fdec304b55714b2e1657b6ee4dd4f5cf285fc0c2c4e716d51fa24c7de5068e0b509fc5a70c3545e01ff4d20a5c3e5641d4272f253dbaa3505af7645af401e7472448b6fee6c0362adf181a2e67a8d524cbc29ee3064d07246ddd52d05c73ec54dcffff2c84e7d9431: 1
---------------------
64bc625559afce8b4e8db5709c77f133a67851b0919ef80051cd8e9e60a084de0c21cc4d7aba30ff5d89d0fce39755e23d90256fbbefca8d422d4b474aa88bfec6588151624161516832e93726de994f552d5b2d077660d86f59f982c7c9b47422705b5779b38d064f2e820215d8fb9872ab02f590cd43f673aca2b758110f71 -> b2ad4335d60d80a865c6fbc22c3c185e6a860adb60de4884a2ec4cdf100a6a789dbb7c00e61e8f22d008366aecb222aec53c8af06dad4d968d0367f895e75f94a39104fa315631cfdcd6fdf3ba35aae68041bb48dbebb76a9a0a33cab91506b4ea9082bbfd1fc2c04bea2f746a6b9c60f4e133ae560695e9609aeff4291b2323: 10
---------------------
0 -> 1ec2baadd4fd8278935990c627bbdc76fe602a281f8b467ce0dac5785c09d803d4a173e1817854f1c829a8f373908ea3c676c0d44b90a6f5eb410e68cc3c950eb75f6a3921478b5ae6a9b04973e240aa3dee531126689e75e08386fab19b9e3b78d84b36c352274700f14812237127a8eae27b2777ff4c13f572a1f6eeb13928: 10
---------------------

 ### Mining side chain ###
12537925f30a3bccc99058dc6a17da40028aa529f5d3f89fe0ae9afeca59ff30 {'index': 1, 'timestamp': 1705986392, 'hash_file': '0', 'model_location': 'None'}
989aa8b0f5caece8de0a2adfe1c69ad05a83f21dc30e4a6a0254dadf57bb566c {'index': 2, 'timestamp': 1705986392, 'hash_file': 'd10e686e01221215b70d64b4a7e6182f672e5ecf5cc68f9a44286479f42c5c63', 'model_location': './data/1705986392_mining_classifier.pth'}
----------------------
The loaded model is the same as the original model.
Accuracy on the test set: 93 %
Transaction #3 | id:4f9332b8-b999-49e8-a8a3-130a3e7d0472 is invalid.
Invalid transaction #1
Blockchain validation: False
```





## Contributing

We welcome contributions to this project. Please feel free to open an issue or submit a pull request.



## Known bugs

- [ ] A bug causes transaction to be invalid
  
  - [ ] As a result UTXOs do not add up to the correct count

---
